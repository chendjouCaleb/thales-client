<div style="display: flex; flex-direction: column; height: 100%">
  <div>
    <div class="fontSize-18 fontWeight-semiBold p-3">Choisir un client</div>


    <div class="px-3 pb-3">
      <div class="search-field">
        <lucide-icon [img]="icons.SearchIcon" strokeWidth="1.5" class="search-field-icon"></lucide-icon>

        <input type="text"  [(ngModel)]="filterValue" (ngModelChange)="filter($event)" placeholder="Recherche">
      </div>
    </div>
  </div>



  <div style="padding: 0 !important; flex-grow: 1; overflow-y: auto" #parent>
    <mat-selection-list [multiple]="false" [(ngModel)]="selected" #selectionList>
      <mat-list-option *ngFor="let customer of customers" togglePosition="before" [value]="customer" color="primary">
        <span style="color: var(--my-OnBackgroundColor)">{{customer.firstName}} {{customer.lastName}}</span>
      </mat-list-option>
    </mat-selection-list>

    <div *ngIf="!hasMore && getFirstRange.success" class="end-list-thumb"></div>
    <div class="d-flex align-items-center justify-content-center p-1" #rangeObserver
         [class.d-none]="!hasMore && getFirstRange.success">
      <mat-spinner diameter="32" [strokeWidth]=""></mat-spinner>
    </div>



    <div class="range-observer" #rangeObserver ></div>
  </div>

  <div class="divider"></div>
  <div class="align-end p-3">
    <button MyButton class="me-4" (click)="cancel()">Annuler</button>
    <button MyButton class="primary" [disabled]="!selectionList.selectedOptions.hasValue()" (click)="close()">Choisir</button>
  </div>

</div>
