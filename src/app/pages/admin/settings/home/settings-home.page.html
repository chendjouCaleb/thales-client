<div class="p-4">
  <div class="d-flex align-items-center">
    <div class="page-title flex-grow-1">Param√®tres de l'espace</div>
  </div>


  <div class="mt-3">
    <div class="d-flex align-items-center justify-content-between">
      <div class="fontWeight-semiBold fontSize-18 opacity-8">Agences</div>
      <button MyButton class="primary" (click)="addAgency()">
        <lucide-icon [img]="icons.PlusIcon"></lucide-icon> Ajouter une agence
      </button>
    </div>

    @if(getAgencyListTask.success && agencies.length == 0) {
      <div class="surface p-4 mt-4 borderRadius-8 fontSize-18 fontWeight-light">
        Aucune agence dans cet espace. Veuillez en ajouter
      </div>
    }

    @if(getAgencyListTask.success && agencies.length > 0) {
      <div *ngFor="let agency of agencies"
           [routerLink]="['/agencies', agency.id]"
           class="mt-3 p-3 br-8 surface hover cursor-pointer d-flex">

        <lucide-icon class="mt-1 opacity-8" [img]="icons.BuildingIcon"></lucide-icon>
        <div class="ps-3 flex-grow-1">
          <div class="fontWeight-semiBold fontSize-16">{{agency.name}}</div>
          <div class="opacity-8">{{agency.address}}</div>
        </div>
      </div>
    }

    @if(getAgencyListTask.loading) {
      <div class="d-flex align-items-center justify-content-center p-3">
        <mat-spinner strokeWidth="2" diameter="64"></mat-spinner>
      </div>
    }
  </div>
</div>
