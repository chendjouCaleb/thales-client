<div class="p-4">
  <div class="d-flex align-items-center">
    <div class="title-20">Procédures</div>

    <div class="align-end flex-grow-1">
      <button MyButton class="primary" (click)="launchAdd()">
        <lucide-angular [img]="icons.PlusIcon" ></lucide-angular> Ajouter une procédure
      </button>
    </div>
  </div>

  <div class="d-flex justify-content-center p-5" *ngIf="getProcedureListTask.loading">
    <mat-spinner diameter="48" strokeWidth="2"></mat-spinner>
  </div>

  @if(getProcedureListTask.success && procedures.length == 0) {
    <div class="surface p-4 mt-4 borderRadius-8 fontSize-18 fontWeight-light">
      Aucune précédure de voyage proposée. Veuillez en ajouter
    </div>
  }

  <div class="mt-4" *ngIf="getProcedureListTask.success">

    @for (procedure of procedures; track procedure.id) {
      <a class="mt-3 br-4 p-3 divLink surface hover"
         [routerLink]="['/admin', parent.space.identifier, 'procedures', procedure.id]">
        <div class="fontWeight-semiBold fontSize-16">{{procedure.name}}</div>
        <div class="fontSize-14 opacity-5">{{procedure.price.format()}}</div>

        <div class="fontColor-170">{{procedure.description}}</div>
      </a>
    }

  </div>
</div>
